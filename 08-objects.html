<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Objects</title>
  </head>
  <body>
    <script>
      /*
           const product = {
             name: "socks",
             price: 1090,
           };

           console.log(product);
           console.log(product.name);
           console.log(product.price);

           product.name = "cotton socks";
           console.log(product);

           product.newProperty = true;
           console.log(product);

           delete product.newProperty;
           console.log(product);
           */

      const product2 = {
        name: "shirt",
        ["delivery-time"]: "1 day",
        rating: {
          stars: 4.5,
          count: 97,
        },
        fun: function one() {
          console.log("function inside object");
        },
      };

      console.log(product2);
      console.log(product2.name);
      console.log(
        product2["name"]
      ); /*Used to access property that will not work with dot notation, also to access dynamic properties ; console.log(product2["delivery-time"]);*/

      console.log(product2["delivery-time"]);
      console.log(product2);

      console.log(product2.rating.count);
      product2.fun();

      /*
           JSON - JavaScript Object Notation
           - similar to javascript objects but has less features
           - used to store data
           - Does not support functions
           - properties must be strings
           - JSON used across different programming languages
           - used to send data between 2 computers that might use different programming languages

           //Built in json object /////
           - Helps us convert javascript objects to json
           */

      console.log(JSON.stringify(product2)); // Functions are not included because JSON does not support functions

      console.log(typeof JSON.stringify(product2)); // "string"

      // Now the object is ready to be saved or sent to another computer
      const jsonString = JSON.stringify(product2);

      JSON.parse(jsonString);
      console.log(JSON.parse(jsonString)); // Parsed back into an object

      /* Built-in localStorage object
        - Allows us to save data in the browser's local storage (persists even after the page is refreshed)
        - localStorage.setItem() takes two parameters:
          1. A key (string) — used to identify the data
          2. A value (string) — the data you want to store
      localStorage.setItem("message", "hello"); // Example usage
         */

      /* Auto-Boxing */
      console.log("hello".length); // JS temporarily wraps the string in a String object so we can use properties like .length
      console.log("hello".toUpperCase()); // Same here: JS auto-wraps the string to let us call methods like .toUpperCase()

      /* Auto-boxing does not work with null and undefines */

      /* Objects are stored by reference in JavaScript */
      const object1 = {
        message: "hello",
      };

      /* object2 is not a separate copy — it points to the same object in memory, copy by reference */
      const object2 = object1; // This doesn't create a new object — it copies the reference (both variables point to the same object)

      /* Even though object1 is declared with const, we can still reach in and change its contents */
      object1.message = "Good job!"; // Changing the object through object1 also affects object2

      /* Both object1 and object2 now reflect the same updated object */
      console.log(object1); // { message: "Good job!" }
      console.log(object2); // This is done to make the language more efficient.
      // Note: `const` doesn't make the object itself immutable — it just means we can't reassign `object1` to a different object

      // For example object1 = { test: "hello people" }; will throw an error

      // Can not compare objects directly
      const object3 = {
        message: "Good job!",
      };
      console.log(object3 === object1); //false , === compares the reference and not the values inside.
      console.log(object2 === object1); //true because they have the same reference in memory

      // Shortcuts -> Destructuring
      const object4 = {
        message: "Good job!",
        price: 799,
      };

      // const message = object4.message;
      const { message } = object4; // Destructures 'message' property from object4 into a new variable in the current (global or local) scope
      // Now we can use 'message' directly as a variable
      console.log(message); // Good job!
      const { price } = object4;
      console.log(price);

      // Shorthand property
      /* Normally we write message: message 
        But if the property name and variable name are the same,
        we can use the shorthand syntax: just write message once */
      const object5 = {
        message, // same as message: message
        // Shorthand method`
        //  method: function one() {
        //  console.log("method");
        // },
        method() {
          console.log("method");
        }, //Short hand method syntax
      };
      console.log(object5); // { message: "hello" }
      object5.method();
    </script>
  </body>
</html>
